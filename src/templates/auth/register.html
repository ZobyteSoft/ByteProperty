{% extends './base.html'%}


{% block title %}Register{% endblock %}

{% block customCSS %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
{% endblock %}


{% block body %}
<div class="contenedor_login_form">


<form class="form-signin" action="/guardaruser" method="POST">
    <!-- <img class="mb-4" src="/docs/5.3/assets/brand/bootstrap-logo.svg" alt="" width="72" height="57"> -->
    {% with messages = get_flashed_messages() %}

    {% if messages %}
    <br />
    {% for message in messages %}
    <div class="alert alert-primary alert-dismissible" role="alert">
        <strong>{{ message }}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
    {% endif %}

    {% endwith %}
    <h1 class="h3 mb-3 fw-normal">Registrar Usuario</h1>
    
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

    <div class="contenedor_input">
      <i class='bx bxs-user' ></i>
      <!-- <label for="floatingInput">Usuario</label> -->
      <input type="text" class="form-control" id="floatingInput" placeholder="Usuario" name="username">
    </div>
      
      <div class="contenedor_input">
        <i class='bx bxs-user-detail' ></i>
      <!-- <label for="floatingPassword">Nombre completo</label> -->
      <input type="text" class="form-control" id="floatingPassword" placeholder="Nombre completo" name="fullname">
    </div>

    <div class="contenedor_input">
      <i class='bx bxs-key'></i>
      <!-- <label for="floatingPassword">Contraseña</label> -->
      <input type="password" class="form-control" id="contraseña" placeholder="Contraseña" name="password">
    </div>
    
    <div class="contenedor_ver_contraseña">
      <input type="checkbox" id="ver_contraseña">
      <label class="text_ver_contra" for="ver_contraseña">Ver contraseña</label>
    </div>
       



    <button class="btn_submit_registrar" type="submit" >Registrar</button>
    <button class="btn_atras">
      <a href="/">Atras</a>
    </button>

    <!-- <a href="/registrarpotreros" class="btn btn-primary w-100 py-2 btn-log" type="submit">Registrar potrero</a> -->

</form>
</div>

<div class="color_opacidad"></div>
<!-- 
<script>
  // Obtener referencias a los elementos relevantes
  const usernameInput = document.getElementById('floatingInput');
  const fullnameInput = document.getElementById('floatingPassword');
  const passwordInput = document.getElementById('contraseña');
  const submitButton = document.querySelector('.btn_submit_registrar');
  
  submitButton.setAttribute('disabled', 'true');

  // Función para verificar si todos los campos tienen contenido
  function verificarInputs() {
    return usernameInput.value.trim() !== '' &&
           fullnameInput.value.trim() !== '' &&
           passwordInput.value.trim() !== '';
  }

  // Función para activar o desactivar el botón de envío según el estado de los campos
  function actualizarBoton() {
    if (verificarInputs()) {
      submitButton.removeAttribute('disabled');
    } else {
      submitButton.setAttribute('disabled', 'true');
    }
  }

  // Agregar eventos de escucha a los inputs para activar o desactivar el botón de envío
  usernameInput.addEventListener('input', actualizarBoton);
  fullnameInput.addEventListener('input', actualizarBoton);
  passwordInput.addEventListener('input', actualizarBoton);
</script>
 -->

<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');


  * {
    margin: 0;
    padding: 0;
  }

  input[type=text], input[type=password]:-webkit-autofill,
  input[type=text], input[type=password]:-webkit-autofill:focus,
  input[type=text], input[type=password]:-webkit-autofill:hover,
  input[type=text], input[type=password]:-webkit-autofill:active {
      transition: background-color 5000s ease-in-out 0s;
    }

  :root {
    --color-principal: #019A54;
    --color-secundario: #1E3E2F;
    --oscuro: #121212;
    --header: #1F1F1F;
    --texto_blanco: #fff;
  }

  .contenedor_input:focus-within {
    box-shadow: 0 0 10px rgb(80, 80, 80);
  }

  .contenedor_input {
    display: flex;
    background-color: rgb(90,90,90);
    margin-top: 10px;
    margin-bottom: 10px;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    padding: 0;
    transition: .2s ease-in-out;
  }

  .contenedor_input input::placeholder {
    color: rgb(200, 200, 200);
    opacity: 1;
  }



  .contenedor_input i {
    font-size: 25px;
    color: rgb(200, 200, 200);
    opacity: 1;
    margin-left: 20px;
    margin-right: 10px;
    
  }

  .contenedor_ver_contraseña {
    margin-bottom: 20px;
    display: flex;
    align-items: center;
  }

  .form-signin {
    width: 100%;
  }

  input[type=checkbox] {
    margin-right: 10px;
    width: 20px;
    height: 20px;
    border-radius: 4px;
    user-select: none;
    appearance: none;
    -webkit-appearance: none;
    background-color: #d5d5d5;
    cursor: pointer;
    display: flex;
    outline: none;
    align-items: center;
    justify-content: center;
}

input[type=checkbox]::after {
    font-family: "Font Awesome 6 Free";
    content: "\f00c";
    font-weight: 900;
    font-size: 16px;
    color: #fff;
    display: none;
}

input[type=checkbox]:hover {
    background-color: #a5a5a5;
}

input[type=checkbox]:checked {
    background-color: #acacac;   
}

input[type=checkbox]:checked::after {
    display: flex;
}

.text_ver_contra {
    color: rgb(170,170,170);
    user-select: none;
    letter-spacing: .5px;
  }





  body {
    width: 100%;
    height: 100vh;
    background-image: url("{{ url_for('static', filename='img/background_login.png') }}");
    font-family: 'roboto';
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
  }

  .color_opacidad {
    background-color: rgba(12, 12, 12, .9);
    height: 100%;
    width: 100%;
    z-index: 11;
  }

  .contenedor_login_form {
    background-color: #1D1E22;
    width: 350px;
    height: 400px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px;
    position: fixed;
    z-index: 12;
    border-radius: 8px;
  }

  .contenedor_login_form h1 {
    margin-bottom: 30px;
    text-align: center;
    user-select: none;
    color: var(--texto_blanco);
  }



  .contenedor_login_form form input[type=text], input[type=password] {
    height: 50px;
    width: 100%;
    padding-left: 10px;
    padding-right: 10px;
    color: rgb(200, 200,200);
    /* margin-bottom: 20px;
    
    padding-top: 3px;
    padding-bottom: 3px; */
    font-size: 18px;
/*     border-radius: 4px; */
    border: none;
    background-color: transparent;
    outline: none;
    -webkit-text-fill-color: rgb(200, 200,200);

  }

  input::-ms-reveal,
      input::-ms-clear {
        display: none;
      }

  .btn_atras {
    position: relative; /* Para que el enlace absoluto esté posicionado dentro del botón */
    overflow: hidden; /* Para ocultar el desbordamiento del enlace */
    width: 100%; /* Ancho del botón */
    height: 50px; /* Alto del botón */
    border: none; /* Quitamos el borde del botón */
    background-color: var(--color-principal); /* Color de fondo del botón */
    border-radius: 4px; /* Añadimos bordes redondeados al botón */
    transition: .2s ease-in-out;
  }
  
  .btn_atras:hover {
    background-color: var(--color-secundario);
  }

  .btn_atras a {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    font-size: 21px;
    justify-content: center;
    align-items: center;
    text-decoration: none; /* Quitamos el subrayado del enlace */
    color: #fff; /* Color del texto */
  }

  .btn_submit_registrar {
    width: 100%;
    height: 50px;
    font-size: 21px;
    color: #fff;
    background-color: var(--color-principal);
    border: none;
    transition: 0.1s all ease-in-out;
    border-radius: 4px;
    margin-bottom: 10px;
  }

  .btn_submit_registrar a {
    color: #fff;
  }

  .btn_submit_registrar:hover {
    background-color: var(--color-secundario);

  }

  .btn_submit_registrar a {
    text-decoration: none;
  }
</style>



<script>
  document.getElementById("ver_contraseña").addEventListener("change", function() {
    var contraseñaInput = document.getElementById("contraseña");
    if (this.checked) {
      contraseñaInput.type = "text";
    } else {
      contraseñaInput.type = "password";
    }
  });
</script>

<script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>

{% endblock %}